{% extends "page.html" %}
{% block head %}
  <title>Update Snippet | F# Snippets</title>
{% endblock %}

{% block customPageScripts %}
  <script src="/content/codecheck.js"></script>
{% endblock %}

{% block content %}
<div class="row">
<div class="col-md-12">

  <h1>Update snippet '{{ model.Details.Title }}'</h1>
  
  <form class="form-horizontal" name="insert-form" id="insert-form" action="/{{ model.Details.Id | format_id }}/update" method="post">   
    <div class="form-group">
      <label for="title" class="col-sm-2 control-label">Title</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="title" name="title" value="{{ model.Details.Title }}">
      </div>
    </div>

    <div id="public-details">
    <div class="form-group">
      <div class="col-sm-10 col-sm-offset-2">
        <small>Public F# snippets will be listed on the web site. The purpose of public snippets is to create a repository of useful snippets that people can easily find, view and use in their code. To make this possible, please add more information about the snippet such as a brief description, tags and your name.</small>
      </div>
    </div>
    <div class="form-group">
      <label for="description" class="col-sm-2 control-label">Description</label>
      <div class="col-sm-10">
        <textarea class="form-control" name="description" rows="3" id="description">{{ model.Details.Comment }}</textarea>
      </div>
    </div>
    <div class="form-group">
      <label for="tags" class="col-sm-2 control-label">Tags</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="tags" name="tags" value="{{ model.Details.Tags | join: ", " }}">
      </div>
    </div>
    <div class="form-group">
      <label for="tags" class="col-sm-2 control-label">Author</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="author" name="author" value="{{ model.Details.Author }}">
      </div>
    </div>
    <div class="form-group">
      <label for="tags" class="col-sm-2 control-label">Link</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="link" name="link" value="{{ model.Details.Link }}">
      </div>
    </div>
    </div>


    <div class="form-group">
      <label for="code" class="col-sm-2 control-label">Source code</label>
      <div class="col-sm-10">
        <textarea class="form-control" name="code" rows="15" id="code">{{ model.Raw }}</textarea>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-3">
        <div class="checkbox">
          <label>
            <input type="checkbox" id="hasnuget" name="hasnuget" onclick="$('#nuget-details').css('display', ($('#hasnuget').is(':checked')) ? '' : 'none');"> Reference NuGet packages
          </label>
        </div>
      </div>
      <div class="col-sm-7">
        <small>If your snippet has external dependencies, enter the names of NuGet packages to reference, separated by a comma (<code>#r</code> directives are not required).</small>
      </div>
    </div>
    <div class="form-group" id="nuget-details" style="display:none">
      <div class="col-sm-10 col-sm-offset-2">
        <input type="text" class="form-control" name="nugetpkgs" id="nuget" placeholder="FSharp.Data, FSharp.Formatting, Suave, ...">
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10" id="errors">
      </div>
    </div>

    <div class="form-group" style="text-align:right;margin-top:20px">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" id="submit" name="submit" value="Create" class="btn btn-success">Create</button>
      </div>
    </div>
  </form>

</div>
</div>
{% endblock %}
